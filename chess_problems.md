In chess based problems the solution is usually some form of combinatorics.
One neat way to go about the problems could be find one unit box and then see how many unit boxes exist in the board.

Following example will show what unit box means.

Say we are tasked to find number of positions where two knights attack each other. Now the knights will attack each other if they are placed in a
2 by 3 or 3 by 2 rectangle.

Now this is our Unit Box.
